# =============================================================================
# Staging/Test Environment Variables - Single Server (All Services)
# Domains:
#   - test.boursenumeriquedafrique.com (frontend)
#   - test-api.boursenumeriquedafrique.com (exchange)
#   - test-payments.boursenumeriquedafrique.com (clearing house)
# =============================================================================
# Copy this file to .env.staging and fill in the actual values
# =============================================================================

# Version (always use latest for auto-deploy from GitHub)
VERSION=latest

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=exchange_user
POSTGRES_PASSWORD=test_password_change_in_production
POSTGRES_DATABASE=exchange_test

# =============================================================================
# Authentication & Security (Use different secrets than production!)
# =============================================================================
TOKEN_ISSUER=boursenumeriquedafrique-test
JWT_SECRET=test_jwt_secret_at_least_32_characters_long_change_this

# =============================================================================
# Admin Account Auto-Creation (Optional)
# =============================================================================
# If all admin account variables are set, the server will automatically create
# an admin account at startup if it doesn't exist. This is useful for automated
# deployments and testing environments.
#
# SECURITY: For staging/test environments, you can enable this for convenience.
# For production, consider removing these after initial setup.
#
# Uncomment to enable admin auto-creation:
# ADMIN_EMAIL=admin@boursenumeriquedafrique.com
# ADMIN_PASSWORD=TestAdmin123!ChangeThis
# ADMIN_FIRST_NAME=Test
# ADMIN_LAST_NAME=Administrator
# ADMIN_PHONE=+242060000000
# ADMIN_PINCODE=1234

# =============================================================================
# Ethereum Configuration (Ganache - Deterministic Test Network)
# =============================================================================
# Ganache deterministic account #0 (pre-funded with 100 ETH)
ETH_PRIVATE_KEY=0x4f3edf983ac636a65a842ce7c78d9aa706d3b113bce9c46f30d7d21715b23b1d
ETH_ADMIN_ADDRESS=0x90f8bf6a479f320ead074411a4b0e7944ea8c9c1
# Ethereum RPC URL (required by clearing-house service)
ETHEREUM_RPC_URL=http://ganache:8545

# =============================================================================
# MTN Mobile Money Configuration (Sandbox)
# =============================================================================
MTN_URL=https://sandbox.momodeveloper.mtn.com

# Sandbox API Keys (get from https://momodeveloper.mtn.com)
MTN_COLLECTION_PRIMARY_KEY=YOUR_SANDBOX_COLLECTION_PRIMARY_KEY
MTN_COLLECTION_SECONDARY_KEY=YOUR_SANDBOX_COLLECTION_SECONDARY_KEY
MTN_DISBURSEMENT_PRIMARY_KEY=YOUR_SANDBOX_DISBURSEMENT_PRIMARY_KEY
MTN_DISBURSEMENT_SECONDARY_KEY=YOUR_SANDBOX_DISBURSEMENT_SECONDARY_KEY

MTN_WEBHOOK_HOST=test-payments.boursenumeriquedafrique.com

# =============================================================================
# Airtel Money Configuration (Staging)
# =============================================================================
AIRTEL_CLIENT_ID=YOUR_STAGING_AIRTEL_CLIENT_ID
AIRTEL_CLIENT_SECRET=YOUR_STAGING_AIRTEL_CLIENT_SECRET
AIRTEL_ENVIRONMENT=staging
AIRTEL_CALLBACK_URL=https://test-payments.boursenumeriquedafrique.com/airtel/callback
AIRTEL_DISBURSEMENT_PIN=1234

# =============================================================================
# Monitoring Configuration
# =============================================================================
PROMETHEUS_ENABLED=false

# =============================================================================
# Frontend Configuration (Vue.js Client)
# =============================================================================
# GraphQL API endpoints
VITE_APP_SERVER_GRAPHQL_URL=http://test-api.boursenumeriquedafrique.com/graphql
VITE_SERVER_GRAPHQL_WS_URL=ws://test-api.boursenumeriquedafrique.com/graphql/ws

# Alternative for local testing (if DNS not configured):
# VITE_APP_SERVER_GRAPHQL_URL=http://localhost:5700/graphql
# VITE_SERVER_GRAPHQL_WS_URL=ws://localhost:5700/graphql/ws
