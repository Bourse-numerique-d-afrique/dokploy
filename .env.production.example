# =============================================================================
# Production Environment Variables - Server 1: Exchange Core
# Domain: api.boursenumeriquedafrique.com
# =============================================================================
# Copy this file to .env.production and fill in the actual values
# Never commit .env.production to git!
# =============================================================================

# Version to deploy (use specific versions in production, 'latest' in staging)
VERSION=v0.1.2

# =============================================================================
# Database Configuration (TimescaleDB/PostgreSQL)
# =============================================================================
POSTGRES_USER=exchange_user
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_123
POSTGRES_DATABASE=exchange
# For Server 1, this is 'timescaledb' (local container)
# POSTGRES_HOST=timescaledb

# =============================================================================
# Authentication & Security
# =============================================================================
TOKEN_ISSUER=boursenumeriquedafrique
# CRITICAL: Use a strong, random 64+ character secret
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_SECRET_AT_LEAST_32_CHARACTERS_LONG_USE_OPENSSL_RAND

# =============================================================================
# Ethereum Configuration
# =============================================================================
# For production, use Infura, Alchemy, or self-hosted Geth node
ETH_CLIENT_URL=https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
# Or for testnet: https://sepolia.infura.io/v3/YOUR_INFURA_PROJECT_ID
# Or for local Geth: http://ethereum:8545

# Admin wallet private key (KEEP THIS SECURE!)
ETH_PRIVATE_KEY=0xYOUR_PRIVATE_KEY_HERE
ETH_ADMIN_ADDRESS=0xYOUR_ADMIN_ADDRESS_HERE

# High Availability Strategy: Priority, RoundRobin, LowestLatency, WeightedRandom
ETH_HA_STRATEGY=Priority
ETH_SIGNATURE_PARALLELISM=3

# Ethereum Node Configuration (if using Geth container)
# For Mainnet
ETHEREUM_IMAGE=ethereum/client-go:stable
ETHEREUM_COMMAND=--mainnet --http --http.addr 0.0.0.0 --http.port 8545 --http.api eth,net,web3 --http.corsdomain '*' --ws --ws.addr 0.0.0.0 --ws.port 8546 --ws.api eth,net,web3 --ws.origins '*' --syncmode snap

# For Sepolia Testnet
# ETHEREUM_IMAGE=ethereum/client-go:stable
# ETHEREUM_COMMAND=--sepolia --http --http.addr 0.0.0.0 --http.port 8545 --http.api eth,net,web3 --http.corsdomain '*' --ws --ws.addr 0.0.0.0 --ws.port 8546 --ws.api eth,net,web3 --ws.origins '*' --syncmode snap

# =============================================================================
# MTN Mobile Money Configuration
# =============================================================================
# Production: https://momodeveloper.mtn.com
# Sandbox: https://sandbox.momodeveloper.mtn.com
MTN_URL=https://momodeveloper.mtn.com

# Collection API Keys (for deposits)
MTN_COLLECTION_PRIMARY_KEY=YOUR_MTN_COLLECTION_PRIMARY_KEY
MTN_COLLECTION_SECONDARY_KEY=YOUR_MTN_COLLECTION_SECONDARY_KEY

# Disbursement API Keys (for withdrawals)
MTN_DISBURSEMENT_PRIMARY_KEY=YOUR_MTN_DISBURSEMENT_PRIMARY_KEY
MTN_DISBURSEMENT_SECONDARY_KEY=YOUR_MTN_DISBURSEMENT_SECONDARY_KEY

# Webhook configuration (where MTN sends callbacks)
# This should point to your clearing house server
MTN_WEBHOOK_HOST=payments.boursenumeriquedafrique.com

# =============================================================================
# Airtel Money Configuration
# =============================================================================
AIRTEL_CLIENT_ID=YOUR_AIRTEL_CLIENT_ID
AIRTEL_CLIENT_SECRET=YOUR_AIRTEL_CLIENT_SECRET

# Environment: production or staging
AIRTEL_ENVIRONMENT=production

# Callback URL for Airtel (points to clearing house)
AIRTEL_CALLBACK_URL=https://payments.boursenumeriquedafrique.com/airtel/callback

# Disbursement PIN
AIRTEL_DISBURSEMENT_PIN=YOUR_AIRTEL_PIN

# =============================================================================
# Monitoring Configuration
# =============================================================================
PROMETHEUS_ENABLED=true

# =============================================================================
# CORS & Security
# =============================================================================
# Frontend domain for CORS
FRONTEND_URL=https://boursenumeriquedafrique.com

# =============================================================================
# Backup & Maintenance
# =============================================================================
# Database backup schedule (if using automated backups)
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30
